<!DOCTYPE html>
<html>
<head>
  <title>App Academy</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <form>

    <div id="group">
      <input type="text" id="usernameInput" placeholder=" " />
      <label for="usernameInput">Username</label>
    </div>
    
    <div id="group">
      <input type="password" id="passwordInput" placeholder=" " />
      <label for="passwordInput">Password</label>
    </div>

    <p>Not yet registered? <a href="register.html">Register</a></p>

    <p id="message" hidden></p>
    <br/>
    <div>
      <button type="button" onclick="verifyUser()">Login</button>
      <button type="button" id="register" onclick="window.location.href='register.html'">Register</button>
    </div>
  </form>

   <script>
    function verifyUser() {
      const username = document.getElementById("usernameInput").value.trim();
      const password = document.getElementById("passwordInput").value.trim();
      checkUserCreds(username, password);
    }

    function checkUserCreds(username, password) {
      const users = JSON.parse(localStorage.getItem("users")) || [];

      const user = users.find(u => u.username === username && u.password === password);

      if (user) {
        document.getElementById("message").innerText = "Login successful!";
        document.getElementById("message").hidden = false;
        setTimeout(() => {
          window.location.href = "home.html";
        }, 1000);
      } else {
        document.getElementById("message").innerText = "Username or password are incorrect";
        document.getElementById("register").hidden = false;
        document.getElementById("message").hidden = false;
      }
    }
  </script>
</body>
</html>
